<ion-header>
  <ion-navbar>
    <button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Crew
      <small>({{ crew.length }} in total)</small>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content fullscreen padding class="crew-list">
  <div padding-bottom>
    <ion-segment [(ngModel)]="currentGroup">
      <ion-segment-button *ngFor="let group of groups" value="{{ group }}">
        {{ group }}
      </ion-segment-button>
    </ion-segment>
  </div>

  <div [ngSwitch]="currentGroup">
    <div *ngSwitchCase="'Alphabet'">
      <ion-list no-lines>
        <crew-item *ngFor="let c of crew.list()" [crew]="c"></crew-item>
      </ion-list>
    </div>

    <div *ngSwitchCase="'Stars'">
      <ion-list no-lines collapsible *ngFor="let star of [5,4,3,2,1]">
        <ion-list-header>
          {{ star }}-star
        </ion-list-header>
        <crew-item *ngFor="let idx of crew.byStar(star)"
                   [crew]="crew.get(idx)"></crew-item>
      </ion-list>
    </div>

    <div *ngSwitchCase="'Skills'">
      <ion-list no-lines collapsible *ngFor="let skill of skillList">
        <ion-list-header>
          {{ skillAbbr[skill] | uppercase }}
        </ion-list-header>
        <crew-item *ngFor="let idx of crew.bySkill(skill)"
                   [crew]="crew.get(idx)" [skill]="skill"></crew-item>
      </ion-list>
    </div>

    <div *ngSwitchCase="'Traits'">
      <ion-list no-lines collapsible *ngFor="let trait of traitList">
        <ion-list-header>
          {{ trait }}
        </ion-list-header>
        <crew-item *ngFor="let idx of crew.byTrait(trait)"
                   [crew]="crew.get(idx)"></crew-item>
      </ion-list>
    </div>
  </div>
</ion-content>
